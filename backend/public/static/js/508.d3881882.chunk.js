"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[508],{981:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var s=t(43),r=t(323),i=t(244),n=t(23),l=t(626),d=t(863),p=t(356),o=t(962),u=t(789),c=t(171),v=t(886),m=(t(284),t(579));const x=()=>{const e=(0,s.useContext)(v.c),{isLoading:a,error:t,sendRequest:x,clearError:h}=(0,c.x)(),[A,b]=(0,u.m)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),f=(0,r.W6)();return(0,m.jsxs)(s.Fragment,{children:[(0,m.jsx)(l.A,{error:t,onClear:h}),(0,m.jsxs)("form",{className:"place-form",onSubmit:async a=>{a.preventDefault();try{const a=new FormData;a.append("title",A.inputs.title.value),a.append("description",A.inputs.description.value),a.append("address",A.inputs.address.value),a.append("image",A.inputs.image.value),await x("https://snapspot-8ceb3f15d663.herokuapp.com/api/places","POST",a,{Authorization:"Bearer "+e.token}),f.push("/")}catch(t){}},children:[a&&(0,m.jsx)(d.A,{asOverlay:!0}),(0,m.jsx)(i.A,{id:"title",element:"input",type:"text",label:"Title",validators:[(0,o.B_)()],errorText:"Please enter a valid title.",onInput:b}),(0,m.jsx)(i.A,{id:"description",element:"textarea",label:"Description",validators:[(0,o.Ik)(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:b}),(0,m.jsx)(i.A,{id:"address",element:"input",label:"Address",validators:[(0,o.B_)()],errorText:"Please enter a valid address.",onInput:b}),(0,m.jsx)(p.A,{id:"image",onInput:b,errorText:"Please provide an image!"}),(0,m.jsx)(n.A,{type:"submit",disabled:!A.isValid,children:"ADD PLACE"})]})]})}},284:()=>{}}]);
//# sourceMappingURL=508.d3881882.chunk.js.map