"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[791],{837:(e,a,s)=>{s.d(a,{A:()=>n});s(43);var i=s(579);const n=e=>(0,i.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})},220:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var i=s(43),n=s(323),t=s(837),r=s(244),l=s(23),o=s(626),p=s(863),d=s(962),u=s(789),c=s(356),m=s(886),h=s(171),v=s(579);const x=()=>{const e=(0,i.useContext)(m.c),[a,s]=(0,i.useState)(!0),{isLoading:x,error:w,sendRequest:g,clearError:j}=(0,h.x)(),[y,f,I]=(0,u.m)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),b=(0,n.W6)();return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(o.A,{error:w,onClear:j}),(0,v.jsxs)(t.A,{className:"authentication",children:[x&&(0,v.jsx)(p.A,{asOverlay:!0}),(0,v.jsx)("h2",{children:"Login Required"}),(0,v.jsx)("hr",{}),(0,v.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),console.log(y.inputs),a)try{const a=await g("https://snapspot-8ceb3f15d663.herokuapp.com/api/users/login","POST",JSON.stringify({email:y.inputs.email.value,password:y.inputs.password.value}),{"Content-Type":"application/json"});e.login(a.userId,a.token),b.push("/")}catch(i){}else try{const a=new FormData;a.append("email",y.inputs.email.value),a.append("name",y.inputs.name.value),a.append("password",y.inputs.password.value),a.append("image",y.inputs.image.value);const s=await g("https://snapspot-8ceb3f15d663.herokuapp.com/api/users/signup","POST",a);e.login(s.userId,s.token),b.push("/")}catch(i){}},children:[!a&&(0,v.jsx)(r.A,{element:"input",id:"name",type:"text",label:"Your Name",validators:[(0,d.B_)()],errorText:"Please eneter a Name.",onInput:f}),!a&&(0,v.jsx)(c.A,{center:!0,id:"image",onInput:f,errorText:"Please provide an image!"}),(0,v.jsx)(r.A,{element:"input",id:"email",type:"email",label:"E-mail",validators:[(0,d.i$)()],errorText:"Please eneter a valid email address.",onInput:f}),(0,v.jsx)(r.A,{element:"input",id:"password",type:"password",label:"password",validators:[(0,d.Ik)(6)],errorText:"Please eneter a valid password atleast 6 characters.",onInput:f}),(0,v.jsx)(l.A,{type:"submit",disabled:!y.isValid,children:a?"LOGIN":"SIGNUP"})]}),(0,v.jsxs)(l.A,{inverse:!0,onClick:()=>{a?I({...y.inputs,name:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1):I({...y.inputs,name:void 0,image:void 0},y.inputs.email.isValid&&y.inputs.password.isValid),s((e=>!e))},children:["Switch to ",a?"SIGNUP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=791.234073f0.chunk.js.map